/*! Copyright (c) ZUIKU.COM - Author: LIJUN - Email: zwlijun@gmail.com */
define(function(require,exports,module){require("mod/se/raf.776354107fbe0f5c4fa7f91198af70242e417249");var a=require("mod/se/util.f9a416ff84aa85b8ba737234874f8969ce70e034"),b=requestAnimationFrame,c=cancelAnimationFrame,d=function(a,b){this.fps=a||0,this.handler=b||null,this.timerId=null,this.isRunning=!1};d.prototype={setTimerFPS:function(a){this.fps=a},setTimerHandler:function(a){this.handler=a},toFPS:function(a){return 1e3/a},toMillisecond:function(a){return 1e3/a},start:function(){var c=this,d=(new Date).getTime(),e=d,f=d;!0!==c.isRunning&&(c.isRunning=!0,function(){f=(new Date).getTime(),(0===c.fps||c.fps>0&&f-e>1e3/c.fps)&&(e=f,a.execAfterMergerHandler(c.handler,[c])),!0===c.isRunning&&(c.timerId=b(arguments.callee))}())},stop:function(){!0===this.isRunning&&(null!=this.timerId&&(c(this.timerId),this.timerId=null),this.isRunning=!1)},toggle:function(){!0===this.isRunning?this.stop():this.start()}},d.TimerPool={},module.exports={getTimer:function(a,b,c){a=a||"timer"+(new Date).getTime()+(Math.random()+"").substr(2),b=b||0,c=c||null;var e=d.TimerPool[a]||(d.TimerPool[a]=new d(b,c));return e}}});
