/*! Copyright (c) ZUIKU.COM - Author: LIJUN - Email: zwlijun@gmail.com */
define(function(require,exports,module){var a=require("mod/polyfill/css.7891625883dcf7e67d40fc1000d57016eb4aa588"),b={VERTICAL:"vertical",HORZIONTAL:"horizontal"},c=a.hasProperty("perspective")?"translateZ(0)":"";module.exports={currentZIndex:3,nextZIndex:4,prevZIndex:2,queueZIndex:1,duration:1,timing:"ease",init:function(){var b=this["super"],c=this.effect;a.css(b.scenes,"backface-visibility","hidden"),a.css(b.scenes,"transformOrigin","50% 50%"),a.css(b.scenes,"transitionTimingFunction",c.timing),a.css(b.scenes,"transitionDuration",c.duration+"s")},layout:function(){for(var d=this["super"],e=this.effect,f=d.scenes,g=d.size,h=null,i=d.currentIndex,j=d.nextIndex,k=d.prevIndex,l=0;g>l;l++)h=$(f[l]),h.addClass("hide"),l===i?(h.css("z-index",e.currentZIndex),h.removeClass("hide"),d.exec("visible",["layout",h]),a.css(h,"transform","translate(0%,0%) "+c)):l===j&&j!==i?(h.css("z-index",b.HORZIONTAL==d.direction?e.prevZIndex:e.nextZIndex),a.css(h,"transform","translate("+(b.HORZIONTAL==d.direction?"100%,0%":"0%,100%")+") "+c)):l===k&&k!==i?(h.css("z-index",b.HORZIONTAL==d.direction?e.nextZIndex:e.prevZIndex),a.css(h,"transform","translate("+(b.HORZIONTAL==d.direction?"-100%,0%":"0%,-100%")+") "+c)):(h.css("z-index",e.queueZIndex),a.css(h,"transform","translate(0%, 0%) "+c))},start:function(a,b,c,d,e,f,g){{var h=this["super"];this.effect}h.moveDirection>0?(h.enterScene=h.prevScene,h.exitScene=h.currentScene):(h.enterScene=h.nextScene,h.exitScene=h.currentScene),h.enterScene.removeClass("hide"),h.exec("visible",["start",h.enterScene]),h.exec("start",[a,b,c,d,e,f,g])},end:function(d,e,f,g,h,i,j){var k=this["super"],l=this.effect,m=k.enterScene,n=k.exitScene,o=k.timer;b.HORZIONTAL==k.direction?k.moveDirection>0?(a.css(n,"transform","translate(100%,0%) "+c),a.css(m,"transform","translate(0%,0%) "+c)):(a.css(n,"transform","translate(-100%,0%) "+c),a.css(m,"transform","translate(0%,0%) "+c)):k.moveDirection>0?(a.css(n,"transform","translate(0%,100%) "+c),a.css(m,"transform","translate(0%,0%) "+c)):(a.css(n,"transform","translate(0%,-100%) "+c),a.css(m,"transform","translate(0%,0%) "+c)),k.exec("end",[d,e,f,g,h,i,j]),o.setTimerFPS(o.toFPS(1e3*l.duration)),o.setTimerHandler({callback:function(a,b){this.complete({type:"timer",data:this,currentTarget:b}),a.stop()},args:[m[0]],context:k}),o.start()},move:function(d,e,f,g,h,i,j){var k=this["super"],l=(this.effect,k.enterScene),m=k.exitScene,n=0,o=0;k.moveDirection>0?(o=100/k.offset*i,n=o-100):(o=100/k.offset*i,n=o+100),b.HORZIONTAL==k.direction?(a.css(m,"transform","translate("+o+"%, 0%)"+c),a.css(l,"transform","translate("+n+"%,0%) "+c)):(a.css(m,"transform","translate(0%,"+o+"%)"+c),a.css(l,"transform","translate(0%,"+n+"%) "+c)),k.exec("move",[d,e,f,g,h,i,j])}}});
